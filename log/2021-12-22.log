2021-12-22 17:24:51,191 INFO  [main] SpringbootApplication: Starting SpringbootApplication using Java 1.8.0_131 on DESKTOP-UCTQGUL with PID 2828 (G:\springboot-demo\target\classes started by CCH in G:\springboot-demo)
2021-12-22 17:24:51,191 INFO  [background-preinit] Version: HV000001: Hibernate Validator 6.0.13.Final
2021-12-22 17:24:51,191 INFO  [main] SpringbootApplication: The following profiles are active: test
2021-12-22 17:24:53,800 INFO  [main] TomcatWebServer: Tomcat initialized with port(s): 8082 (http)
2021-12-22 17:24:53,815 INFO  [main] Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8082"]
2021-12-22 17:24:53,815 INFO  [main] StandardService: Starting service [Tomcat]
2021-12-22 17:24:53,815 INFO  [main] StandardEngine: Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-22 17:24:53,815 INFO  [main] AprLifecycleListener: An older version [1.2.25] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.30]
2021-12-22 17:24:53,815 INFO  [main] AprLifecycleListener: Loaded Apache Tomcat Native library [1.2.25] using APR version [1.7.0].
2021-12-22 17:24:53,815 INFO  [main] AprLifecycleListener: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [false].
2021-12-22 17:24:53,815 INFO  [main] AprLifecycleListener: APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2021-12-22 17:24:53,878 INFO  [main] AprLifecycleListener: OpenSSL successfully initialized [OpenSSL 1.1.1g  21 Apr 2020]
2021-12-22 17:24:54,050 INFO  [main] [/]: Initializing Spring embedded WebApplicationContext
2021-12-22 17:24:54,050 INFO  [main] ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2781 ms
2021-12-22 17:24:55,127 INFO  [main] PropertySourcedRequestMappingHandlerMapping: Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2021-12-22 17:24:55,471 INFO  [main] Http11NioProtocol: Starting ProtocolHandler ["http-nio-8082"]
2021-12-22 17:24:55,487 INFO  [main] TomcatWebServer: Tomcat started on port(s): 8082 (http) with context path ''
2021-12-22 17:24:55,487 INFO  [main] DocumentationPluginsBootstrapper: Context refreshed
2021-12-22 17:24:55,518 INFO  [main] DocumentationPluginsBootstrapper: Found 1 custom documentation plugin(s)
2021-12-22 17:24:55,534 INFO  [main] ApiListingReferenceScanner: Scanning for api listing references
2021-12-22 17:24:55,721 INFO  [main] SpringbootApplication: Started SpringbootApplication in 5.364 seconds (JVM running for 6.067)
2021-12-22 17:25:00,018 INFO  [scheduling-1] ScheduledTask: ==========发送请求给住建局,开始取token=========
2021-12-22 17:25:00,642 INFO  [scheduling-1] RetryExec: I/O exception (java.net.NoRouteToHostException) caught when processing request to {}->http://22.36.12.109:20089: No route to host: connect
2021-12-22 17:25:00,642 INFO  [scheduling-1] RetryExec: Retrying request to {}->http://22.36.12.109:20089
2021-12-22 17:25:00,658 INFO  [scheduling-1] RetryExec: I/O exception (java.net.NoRouteToHostException) caught when processing request to {}->http://22.36.12.109:20089: No route to host: connect
2021-12-22 17:25:00,658 INFO  [scheduling-1] RetryExec: Retrying request to {}->http://22.36.12.109:20089
2021-12-22 17:25:00,674 INFO  [scheduling-1] RetryExec: I/O exception (java.net.NoRouteToHostException) caught when processing request to {}->http://22.36.12.109:20089: No route to host: connect
2021-12-22 17:25:00,674 INFO  [scheduling-1] RetryExec: Retrying request to {}->http://22.36.12.109:20089
2021-12-22 17:25:00,705 ERROR [scheduling-1] ScheduledTask: null
java.lang.NullPointerException: null
	at com.cch.demo.account.util.HttpClientUtil.post(HttpClientUtil.java:99)
	at com.cch.demo.account.scheduled.ScheduledTask.getToken(ScheduledTask.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
2021-12-22 17:25:00,705 INFO  [scheduling-1] ScheduledTask: ==========开始每日导入Tranlog流水表=========
2021-12-22 17:25:00,720 INFO  [scheduling-1] HikariDataSource: HikariPool-1 - Starting...
2021-12-22 17:25:00,907 INFO  [scheduling-1] PoolBase: HikariPool-1 - Driver does not support get/set network timeout for connections. (oracle.jdbc.driver.T4CConnection.getNetworkTimeout()I)
2021-12-22 17:25:00,907 INFO  [scheduling-1] HikariDataSource: HikariPool-1 - Start completed.
2021-12-22 17:25:01,095 ERROR [scheduling-1] ScheduledTask: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

### The error may exist in file [G:\springboot-demo\target\classes\mapper\TranlogMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into Tranlog("ACCOUNTNUMBER", "CONTRACT","PAYTIME", "PAYAMOUNT", "SERIALNUMBER")         select "主账号","附言","交易日期","交易金额","交易流水号" from m_ctisg t         where             to_date(t."交易日期",'yyyyMMdd') between                 (to_date(to_char(sysdate,'yyyyMMdd'),'yyyyMMdd') - interval'4' day)                 and (to_date(to_char(sysdate,'yyyyMMdd'),'yyyyMMdd') - interval'4' day)
### Cause: java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

### The error may exist in file [G:\springboot-demo\target\classes\mapper\TranlogMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into Tranlog("ACCOUNTNUMBER", "CONTRACT","PAYTIME", "PAYAMOUNT", "SERIALNUMBER")         select "主账号","附言","交易日期","交易金额","交易流水号" from m_ctisg t         where             to_date(t."交易日期",'yyyyMMdd') between                 (to_date(to_char(sysdate,'yyyyMMdd'),'yyyyMMdd') - interval'4' day)                 and (to_date(to_char(sysdate,'yyyyMMdd'),'yyyyMMdd') - interval'4' day)
### Cause: java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:91)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:441)
	at com.sun.proxy.$Proxy83.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:58)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:61)
	at com.sun.proxy.$Proxy88.insertTranlog(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy89.insertTranlog(Unknown Source)
	at com.cch.demo.account.scheduled.ScheduledTask.insertIntoTranlog(ScheduledTask.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: 表或视图不存在

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:445)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:207)
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1044)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1329)
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3584)
	at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3685)
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1376)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy114.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at com.baomidou.mybatisplus.core.executor.MybatisSimpleExecutor.doUpdate(MybatisSimpleExecutor.java:54)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:194)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:181)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:427)
	... 31 common frames omitted
2021-12-22 17:25:01,095 INFO  [scheduling-1] ScheduledTask: ==========入金核账开始=========
2021-12-22 17:25:01,314 INFO  [scheduling-1] ScheduledTask: Billing应收单据表核账失败的记录：[{EID=qiye1, PAYMENTAMOUNT=3000, SPECIALACCOUNTNO=621081060001, CNO=2021254321100, PAYENDTIME=20211101, BID=bill3, CREATETIME=2021-11-09 13:34:28.0, TYPE=0, CID=202154321004}]
2021-12-22 17:25:01,314 INFO  [scheduling-1] ScheduledTask: 第0条应收单据核账开始,合同备案号：2021254321100,支付金额：3000,账单号：bill3
